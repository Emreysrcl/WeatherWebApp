<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/footer.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Playfair+Display&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/site.webmanifest" />
    <title>WeatherApp</title>
</head>
<body style="background-color: #C9E6F0; ">
<div class="container text-center mt-2 mb-5" >
  <h1 class="mb-4 text-primary" style="font-size:6rem; text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);"> <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill="currentColor" class="bi bi-brightness-low-fill" viewBox="0 0 16 16">
    <path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0M8.5 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 11a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m5-5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m-11 0a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9.743-4.036a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m-7.779 7.779a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m7.072 0a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707M3.757 4.464a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707"/>
  </svg>
    Weather App
  </h1>
  <form action="/getweather" method="POST" class="d-flex justify-content-center">
    <input 
      type="text" 
      name="location" 
      class="form-control w-50 me-2" 
      placeholder="Enter a location..." 
      required
       style=" box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px; background-color: #FBFBFB"
    >
    <button type="submit" class="btn btn-primary" style=" box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px; color:#FBF8EF">
      Get Weather
    </button>
  </form>
</div>

<div class="card shadow mb-5" style="max-width: 600px; margin: auto; ">
  <div class="row g-0">
    <!-- Icon -->
    <div class="col-md-4" style="position: relative; background-color: #FBFBFB;">
      <!-- Today text -->
      <h6 
        style="position: absolute; top: 10px; left: 10px; background-color: #FBFBFB; padding: 5px 10px; border-radius: 5px; z-index: 10;" 
        class="card-text text-primary">
        Today
      </h6>
      <!-- Icon -->
      <img 
        src="<%= icon %>" 
        alt="<%= description %>"
        class="img-fluid rounded-start" 
        style="width: 100%; height: auto;"
      >
    </div>

    <div class="col-md-8" style="background-color: #FBFBFB">
      <div class="card-body">
        <!-- Hours -->
        <h5 class="card-text text-end text-muted">
          <strong><%= hour %>:<%= minute %></strong>
        </h5>
        <!-- Location -->
        <h1 class="card-title text-primary" style="text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);"><%= location %></h1>
        <!-- Temp -->
        <h3 class="card-text text-warning"><%= temp %>°C</h3>
        <!-- Description -->
        <strong class="card-text text-secondary"><%= description %></strong>
      </div>
    </div>
  </div>
</div>


<!-- 5 Day Forecast: Horizontal and Small Cards -->
<div class="container mt-4 ">
  <div class="row justify-content-center" >
    <% for (let i = 0; i < dailyTemp.length; i++) { %>
      <div class="col-12 col-sm-6 col-md-4 col-lg-2 mx-2">
        <div class="card" style="width: 100%; padding: 10px;" style="background-color: #FBFBFB">
          <!-- Day -->
          <h5 class="text-center text-primary" style="text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);"><%= dailyDayName[i] %></h5>
            <!-- Icon -->
          <img 
            src="<%= dailyIcon[i] %>" 
            alt="<%= description %>"
            class="img-fluid"
            style="width: 50px; height: auto; margin: 0 auto; "
          >
           <!-- Temp -->
          <h6 class="text-center text-warning"><%= dailyTemp[i] %>°C</h6>
           <!-- Description -->
          <strong class="text-center text-secondary"><%= dailyDesc[i] %></strong>
         
        </div>
      </div>
    <% } %>
  </div>
</div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
  document.querySelector("form").addEventListener("submit", function() {
    const button = this.querySelector("button");
    button.innerHTML = "Loading...";
    button.disabled = true;
  });
  
</script>
</html>
